

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Portfolio Allocation Models &mdash; Quantropy 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Investment Paradigms" href="investment-paradigms.html" />
    <link rel="prev" title="Asset Pricing Models" href="asset-pricing-models.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Quantropy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="fundamental-analysis.html">Fundamental Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical-analysis.html">Technical Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="asset-pricing-models.html">Asset Pricing Models</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Portfolio Allocation Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#modern-portfolio-theory">Modern Portfolio Theory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#markowitz-mean-variance-framework-1952">Markowitz Mean-Variance Framework (1952)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#efficient-frontier">Efficient Frontier</a></li>
<li class="toctree-l4"><a class="reference internal" href="#capital-allocation-line">Capital Allocation Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#security-market-line">Security Market Line</a></li>
<li class="toctree-l4"><a class="reference internal" href="#capital-asset-pricing-model">Capital Asset Pricing Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#treynor-black-model-1973">Treynor-Black Model (1973)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#black-litterman-model-1990">Black-Litterman Model (1990)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#post-modern-portfolio-theory-1991">Post Modern Portfolio Theory (1991)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#risk-deviation-measures">Risk Deviation Measures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#risk-adjusted-returns-measures-based-on-volatility">Risk Adjusted Returns Measures Based on Volatility</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#value-at-risk-var">Value at Risk (VaR)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#risk-adjusted-returns-measures-based-on-var">Risk Adjusted Returns Measures Based on VaR</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#drawdown-risk">Drawdown Risk</a></li>
<li class="toctree-l3"><a class="reference internal" href="#partial-moments-risk">Partial Moments Risk</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#risk-adjusted-returns-measures-based-on-partial-moments">Risk Adjusted Returns Measures Based on Partial Moments</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#risk-parity-1996">Risk Parity (1996)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hierarchical-risk-parity-2016">Hierarchical Risk Parity (2016)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#universal-portfolio-algorithm-2016">Universal Portfolio Algorithm (2016)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="investment-paradigms.html">Investment Paradigms</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Quantropy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Portfolio Allocation Models</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/portfolio-allocation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="portfolio-allocation-models">
<h1>Portfolio Allocation Models<a class="headerlink" href="#portfolio-allocation-models" title="Permalink to this headline">¶</a></h1>
<p>The aim of <strong>portfolio allocation</strong> is to construct a portfolio by determining the proportions of our portfolio that each
asset should hold, according to <em>quantifiable characteristics</em> such as risk, return, covariance matrices, as well as
<em>mathematical methodologies</em> such as optimization (i.e. CLA) and machine learning techniques (i.e. hierarchical clustering).</p>
<p>Let’s use the <em>Dow Jones Industrial Average</em> as our market proxy. It will be our main use case throughout this tutorial.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Construct the DJIA index portfolio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">market_portfolio</span> <span class="o">=</span> <span class="n">Portfolio</span><span class="p">(</span><span class="n">assets</span><span class="o">=</span><span class="s1">&#39;^DJI&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">market_portfolio</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">frequency</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># resample to Monthly</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">market_portfolio</span><span class="o">.</span><span class="n">slice_dataframe</span><span class="p">(</span><span class="n">from_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">to_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Construct the DJIA constituents portfolio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assets</span> <span class="o">=</span> <span class="n">macro</span><span class="o">.</span><span class="n">companies_in_index</span><span class="p">(</span><span class="n">MarketIndices</span><span class="o">.</span><span class="n">DOW_JONES</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio</span> <span class="o">=</span> <span class="n">Portfolio</span><span class="p">(</span><span class="n">assets</span><span class="o">=</span><span class="n">assets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio</span><span class="o">.</span><span class="n">set_frequency</span><span class="p">(</span><span class="n">frequency</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio</span><span class="o">.</span><span class="n">slice_dataframe</span><span class="p">(</span><span class="n">from_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">to_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">portfolio</span><span class="o">.</span><span class="n">df_returns</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="go">                          MMM       AXP      AMGN  ...       WBA       WMT       DIS</span>
<span class="go">Date                                               ...</span>
<span class="go">2019-03-31 23:59:59  0.001881  0.014479 -0.000526  ... -0.111251 -0.009448 -0.016040</span>
<span class="go">2019-04-30 23:59:59 -0.087929  0.076349 -0.056111  ... -0.153311  0.054445  0.233631</span>
<span class="go">2019-05-31 23:59:59 -0.149824 -0.021496 -0.062373  ... -0.071178 -0.008374 -0.035993</span>
<span class="go">2019-06-30 23:59:59  0.085070  0.076105  0.105459  ...  0.108026  0.089215  0.057558</span>
<span class="go">2019-07-31 23:59:59  0.007961  0.010685  0.012481  ... -0.003292 -0.000996  0.030476</span>
<span class="go">2019-08-31 23:59:59 -0.065935 -0.032162  0.126048  ... -0.051960  0.040247 -0.040207</span>
<span class="go">2019-09-30 23:59:59  0.016572 -0.017363 -0.072428  ...  0.080484  0.038684 -0.050561</span>
<span class="go">2019-10-31 23:59:59  0.003589 -0.004662  0.102010  ... -0.009582 -0.011965 -0.003069</span>
<span class="go">2019-11-30 23:59:59  0.037880  0.024216  0.107994  ...  0.096093  0.015606  0.166718</span>
<span class="go">2019-12-31 23:59:59  0.039171  0.036380  0.027054  ... -0.010738  0.002377 -0.040134</span>
<span class="go">[10 rows x 30 columns]</span>
</pre></div>
</div>
<div class="section" id="modern-portfolio-theory">
<h2>Modern Portfolio Theory<a class="headerlink" href="#modern-portfolio-theory" title="Permalink to this headline">¶</a></h2>
<p>In a 1952 essay, economist Harry Markowitz introduced <strong>Modern Portfolio Theory</strong> (MPT). Also termed <em>mean-variance analysis</em>,
it is a mathematical framework for determining the proportion of an asset in the portfolio, so that the expected return is maximized
for a given level of risk. It formalizes the idea of <em>diversification</em>, i.e. that owning different types of financial assets is less
risky than owning only one. Essentially, an asset’s risk and return should not be assessed by itself, but by how it
contributes to the risk and overall return of a portfolio.</p>
<div class="section" id="markowitz-mean-variance-framework-1952">
<h3>Markowitz Mean-Variance Framework (1952)<a class="headerlink" href="#markowitz-mean-variance-framework-1952" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="matilda.quantitative_analysis.portfolio_optimization.ModernPortfolioTheory">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.portfolio_optimization.</span></code><code class="sig-name descname"><span class="pre">ModernPortfolioTheory</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">matilda.portfolio_management.Portfolio.Portfolio</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.portfolio_optimization.ModernPortfolioTheory" title="Permalink to this definition">¶</a></dt>
<dd><p>The portfolio’s <em>expected return</em> is the proportion-weighted combination of the constituents assets’ returns.
It is the weighted-average of the returns of the portfolio’s constituents.</p>
<div class="math notranslate nohighlight">
\[E(R_p) = \sum_{i} w_i * E(R_i)\]</div>
<p>where <span class="math notranslate nohighlight">\(R_p\)</span> is the return of the portfolio, <span class="math notranslate nohighlight">\(R_i\)</span> is the return of asset <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> is
the weighting of component asset <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p>The portfolio’s <em>return variance</em> is used as a proxy for risk. It is not simply a linear combination of individual
risks, but a function of the correlations <span class="math notranslate nohighlight">\(\rho_{ij}\)</span> of the component assets, for all asset pairs <span class="math notranslate nohighlight">\((i, j)\)</span>.</p>
<div class="math notranslate nohighlight">
\[\sigma_p^2 = \sum_{i} (w_i^2 + \sigma_i^2) + \sum_{i} \sum_{i \neq j} w_i * w_j * \sigma_i * \sigma_j * \rho_{ij}\]</div>
<p>where <span class="math notranslate nohighlight">\(\sigma\)</span> is the (sample) standard deviation of the periodic returns on an asset, and <span class="math notranslate nohighlight">\(\rho_{ij}\)</span>
is the correlation coefficient between the returns on assets <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(j\)</span>.</p>
<p>With the idea of <strong>diversification</strong>, an investor can reduce portfolio risk simply by holding combinations of
instruments that are not perfectly positively correlated (correlation coefficient <span class="math notranslate nohighlight">\(-1 &lt;= \rho_{ij} &lt; 1\)</span>).
In other words, investors can reduce their exposure to individual asset risk by holding a diversified portfolio of
assets. Diversification may allow for the same portfolio expected return with reduced risk.</p>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.portfolio_optimization.ModernPortfolioTheory.solve_weights">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.portfolio_optimization.ModernPortfolioTheory.</span></code><code class="sig-name descname"><span class="pre">solve_weights</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sharpe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leverage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long_short_exposure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.portfolio_optimization.ModernPortfolioTheory.solve_weights" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>use_sharpe</strong> – to optimize for Sharpe ratio, input True. By default minimizes volatility.</p></li>
<li><p><strong>leverage</strong> – leverage constraints. By default, 1 (no leverage).</p></li>
<li><p><strong>long_short_exposure</strong> – exposure between long and short positions. By default, 1 (long-only).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MPT</span> <span class="o">=</span> <span class="n">ModernPortfolioTheory</span><span class="p">(</span><span class="n">portfolio</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="n">MPT</span><span class="o">.</span><span class="n">solve_weights</span><span class="p">(</span><span class="n">use_sharpe</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">weights</span><span class="p">)</span>
<span class="go">MMM     8.252014e-11</span>
<span class="go">AXP     5.754070e-12</span>
<span class="go">AMGN    1.026955e-11</span>
<span class="go">AAPL    1.065381e-09</span>
<span class="go">BA      0.000000e+00</span>
<span class="go">CAT     5.458483e-11</span>
<span class="go">CVX     1.986690e-11</span>
<span class="go">CSCO    3.633562e-11</span>
<span class="go">KO      4.627803e-01</span>
<span class="go">DOW     5.289753e-12</span>
<span class="go">GS      4.808235e-11</span>
<span class="go">HD      1.116429e-11</span>
<span class="go">HON     0.000000e+00</span>
<span class="go">IBM     8.356778e-12</span>
<span class="go">INTC    8.504801e-12</span>
<span class="go">JNJ     1.047248e-11</span>
<span class="go">JPM     1.002877e-02</span>
<span class="go">MCD     0.000000e+00</span>
<span class="go">MRK     0.000000e+00</span>
<span class="go">MSFT    0.000000e+00</span>
<span class="go">NKE     0.000000e+00</span>
<span class="go">PG      5.280897e-02</span>
<span class="go">CRM     2.149651e-11</span>
<span class="go">TRV     5.207088e-02</span>
<span class="go">UNH     1.965341e-01</span>
<span class="go">VZ      0.000000e+00</span>
<span class="go">V       2.266829e-12</span>
<span class="go">WBA     0.000000e+00</span>
<span class="go">WMT     2.257769e-01</span>
<span class="go">DIS     0.000000e+00</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<div class="section" id="efficient-frontier">
<h4>Efficient Frontier<a class="headerlink" href="#efficient-frontier" title="Permalink to this headline">¶</a></h4>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stats_df</span> <span class="o">=</span> <span class="n">MPT</span><span class="o">.</span><span class="n">markowitz_efficient_frontier</span><span class="p">(</span><span class="n">market_portfolio</span><span class="o">=</span><span class="n">market_portfolio</span><span class="p">,</span> <span class="n">plot_assets</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot_cal</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="c1"># show all columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stats_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="go">   Target Return  Minimum Volatilty  Sharpe Ratio  \</span>
<span class="go">0      -0.038987           0.242079     -0.161053</span>
<span class="go">1      -0.031797           0.230182     -0.138139</span>
<span class="go">2      -0.024607           0.219190     -0.112263</span>
<span class="go">3      -0.017417           0.208682     -0.083460</span>
<span class="go">4      -0.010226           0.198630     -0.051484</span>
<span class="go">                                     Optimal Weights</span>
<span class="go">0  [0.0, 5.676814812498321e-17, 6.248307942010797...</span>
<span class="go">1  [0.0, 2.1251952869548186e-16, 7.33663515761706...</span>
<span class="go">2  [1.0495623187945156e-16, 1.022455433619923e-16...</span>
<span class="go">3  [0.0, 0.0, 2.0295223730939766e-16, 0.0, 1.3976...</span>
<span class="go">4  [1.7626656648200915e-16, 1.4969544279368077e-1...</span>
</pre></div>
</div>
<p>The resulting graph follows:</p>
<img alt="_images/efficient_frontier.PNG" src="_images/efficient_frontier.PNG" />
</div>
<div class="section" id="capital-allocation-line">
<h4>Capital Allocation Line<a class="headerlink" href="#capital-allocation-line" title="Permalink to this headline">¶</a></h4>
<p>The tangent to the upper part of the hyperbolic boundary is the <strong>Capital Allocation Line (CAL)</strong>, determining how to allocate
funds between a risky asset and a risk-free asset. It is given by the equation:</p>
<div class="math notranslate nohighlight">
\[E(R_C) = R_F + \sigma_C + \frac{E(R_P) - R_F}{\sigma_P}\]</div>
<p>where <span class="math notranslate nohighlight">\(P\)</span> is the sub-portfolio of risky assets at the tangency with the Markowitz bullet, <span class="math notranslate nohighlight">\(F\)</span> is the
risk-free asset, and <span class="math notranslate nohighlight">\(C\)</span> is a combination of portfolios <span class="math notranslate nohighlight">\(P\)</span> and <span class="math notranslate nohighlight">\(F\)</span>. It is also known as the <strong>Capital Market Line (CML)</strong>.</p>
</div>
<div class="section" id="security-market-line">
<h4>Security Market Line<a class="headerlink" href="#security-market-line" title="Permalink to this headline">¶</a></h4>
<p>The <strong>Security Market Line (SML)</strong></p>
</div>
<div class="section" id="capital-asset-pricing-model">
<h4>Capital Asset Pricing Model<a class="headerlink" href="#capital-asset-pricing-model" title="Permalink to this headline">¶</a></h4>
<p>As we’ve seen in the Asset Pricing Models module, the CAPM states that the expected return of any given asset should equal
<span class="math notranslate nohighlight">\(R_i = R_f + \beta_i * (R_m - R_f)\)</span>, with <span class="math notranslate nohighlight">\(\alpha\)</span> being the error term having an expected value of zero in theory.
Thus, the only way to achieve higher expected returns is taking on more <span class="math notranslate nohighlight">\(\beta\)</span> (given that <span class="math notranslate nohighlight">\((R_m - R_f) &gt; 0\)</span>).
Every individual stock has some idiosyncratic risk in addition to its market <span class="math notranslate nohighlight">\(\beta\)</span> (true always when correlated less than
perfectly with the market).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The total risk is a combination of systematic and unsystematic (<em>idiosyncratic</em>) risk.
*   Systematic risk is given by the estimated coefficient of a regression of a security on a market portfolio,</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(\beta_{security, market} = \frac{\sigma_{security, market}}{\sigma_{market}^2}\)</span>.</p>
</div></blockquote>
<ul class="simple">
<li><p>The idiosyncratic risk is the portion of risk unexplained by the market factor, <span class="math notranslate nohighlight">\(1 - R^2\)</span>.
Empirically, the idiosyncratic risk in a single-factor contemporaneous CAPM model with US equities is around 60-70%.</p></li>
</ul>
</div>
<p>Through diversification (i.e. by the <em>mean-variance optimization</em> process), unsystematic risk is eliminated.
Thus, we can get the best return/risk ratio by buying the market portfolio, as buying anything else, we could not get
more expected return for the same <span class="math notranslate nohighlight">\(\beta\)</span>, but would only get some additional idiosyncratic risk.</p>
<p>To maximize investor’s utility function, Modern Portfolio Theory suggests holding the combination of a risk-free
asset and optimal risky portfolio (ORP) lying on a tangency of the efficient frontier and capital market line.
Modern Portfolio Theory also suggests that optimal risky portfolio is a market portfolio (e.g. capitalization-weighted index).</p>
<p>If we assume markets are fully efficient and all assets are fairly priced, we don’t have any reason to deviate
from the market portfolio in our asset allocation. In such case, we don’t even need to know equilibrium asset
returns nor perform any kind of portfolio optimization. An optimization based on equilibrium asset returns would
lead back to the same market portfolio anyway.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using historical data to estimate expected returns implies nonzero expected <span class="math notranslate nohighlight">\(\alpha\)</span>-s for all assets.
This is not coherent with the CAPM framework, so using this methodology within MPT, it has nothing to do with CAPM.
In effect by using MPT this way, you are generating a momentum based investment strategy, as you assume that assets
that have had good returns historically will continue to have good returns in the future.</p>
</div>
<p>This framework has then been improved by other economists and mathematicians who went on to account for its limitations.</p>
</div>
</div>
<div class="section" id="treynor-black-model-1973">
<h3>Treynor-Black Model (1973)<a class="headerlink" href="#treynor-black-model-1973" title="Permalink to this headline">¶</a></h3>
<p>Unlike the <strong>Markowitz’s</strong> approach for portfolio allocation, the <strong>Treynor-Black model</strong> is a type of <em>active</em> portfolio
management.</p>
<dl class="py class">
<dt id="matilda.quantitative_analysis.portfolio_optimization.TreynorBlackModel">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.portfolio_optimization.</span></code><code class="sig-name descname"><span class="pre">TreynorBlackModel</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">matilda.portfolio_management.Portfolio.Portfolio</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.portfolio_optimization.TreynorBlackModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Under the <strong>Treynor-Black model</strong>, an investor considers that most securities are priced efficiently,
but believes they have information that can be used to predict the abnormal performance (captured by the alpha
of some factor model) of a few of them. The model combines an actively managed portfolio built with a few mispriced
securities and a passively managed market index fund. As such, the overall portfolio consists of an active portfolio of weight <span class="math notranslate nohighlight">\(w_A\)</span> and a passive portfolio
with weight <span class="math notranslate nohighlight">\(w_P = 1 - w_A\)</span>.</p>
<ul class="simple">
<li><p>The higher the <span class="math notranslate nohighlight">\(\alpha\)</span> of a security, the higher the weight we assign to it.</p></li>
<li><p>The more risky the security is (unsystematic risk), the lower the weight we assign to it.</p></li>
</ul>
<p>The weight we assign to a security <em>i</em> should therefore be proportional to <span class="math notranslate nohighlight">\(\frac{\alpha_i}{\sigma(\epsilon_i)^2}\)</span>.
By default, we take the <span class="math notranslate nohighlight">\(\alpha\)</span> of the Capital Asset Pricing Model, <span class="math notranslate nohighlight">\(r_i + \beta_i * (R_M - R_F) + \alpha_i + \epsilon_i\)</span>.</p>
<p>Then it was shown by Treynor and Black that the active portfolio is constructed using the weights
<span class="math notranslate nohighlight">\(w_i = \frac{\frac{\alpha_i}{\sigma_i^2}}{\sum_{j=1}^{N} \frac{\alpha_j}{\sigma_j^2}}\)</span>.
Using these weights, we can construct the active portfolio and calculate the following:</p>
<div class="math notranslate nohighlight">
\[\alpha_A = \sum_{i=1}^{N} w_i * \alpha_i ,
\beta_A = \sum_{i=1}^{N} w_i * \beta_i ,
\sigma(\epsilon_A)^2 = \sum_{i=1}^{N} w_i^2 * \sigma(\epsilon_i)^2\]</div>
<p>They then determine the size of the active portfolio in the overall portfolio,</p>
<div class="math notranslate nohighlight">
\[w_A = \frac{\frac{\alpha_A}{\sigma_A^2}}{\frac{E(r_P) - r_f}{\sigma_P^2}}\]</div>
<p>where <span class="math notranslate nohighlight">\(r_p\)</span> is the return of the passive portfolio, <span class="math notranslate nohighlight">\(r_f\)</span> is the risk-free rate, and
<span class="math notranslate nohighlight">\(\sigma_P^2\)</span> is the volatility of the passive portfolio.</p>
<p>To avoid the overall portfolio from exhibiting a lot of unsystematic risk, we correct the formula
to ensure the beta of the overall portfolio doesn’t change.</p>
<div class="math notranslate nohighlight">
\[w_A = \frac{w_A}{1 + (1 - \beta_A) * w_A}\]</div>
<p>The model is not bounded <span class="math notranslate nohighlight">\(0 ≤ w_A ≤ 1\)</span> and <span class="math notranslate nohighlight">\(0 ≤ w_M ≤ 0\)</span> i.e short positions in the market portfolio or active portfolio
could be initiated to leverage a position in the other portfolio. This is often regarded as the major flaw of the
model, as it often yields an unrealistic weight in the active portfolio. Imposing lower and upper bounds for
<span class="math notranslate nohighlight">\(w_A\)</span> is a measure to counter this.</p>
</dd></dl>

</div>
<div class="section" id="black-litterman-model-1990">
<h3>Black-Litterman Model (1990)<a class="headerlink" href="#black-litterman-model-1990" title="Permalink to this headline">¶</a></h3>
<p>The <strong>Black–Litterman model</strong> optimization is an extension of unconstrained Markowitz optimization that incorporates relative
and absolute ‘views’ on inputs of risk and returns from.</p>
</div>
</div>
<div class="section" id="post-modern-portfolio-theory-1991">
<h2>Post Modern Portfolio Theory (1991)<a class="headerlink" href="#post-modern-portfolio-theory-1991" title="Permalink to this headline">¶</a></h2>
<p><strong>Post-modern portfolio theory</strong> extends MPT by adopting non-normally distributed, asymmetric, and fat-tailed measures of risk.
Two major limitations of MPT are in measuring <em>risk</em> and <em>return</em> in a way that doesn’t represent the realities of the
investment markets. Specifically, it assumes the following:</p>
<ul class="simple">
<li><p><strong>Risk proxy:</strong> The variance of portfolio returns is the correct measure of investment risk. Using the variance (or its square root,
the standard deviation) implies that uncertainty about better-than-expected returns is equally averred as uncertainty
about returns that are worse than expected. It has long been recognized that investors typically do not view as
risky those returns above the minimum they must earn in order to achieve their investment objectives.
They believe that risk has to do with the bad outcomes (i.e., returns below a required target), not the good
outcomes (i.e., returns in excess of the target) and that losses weigh more heavily than gains.</p></li>
<li><p><strong>Statistical distribution:</strong> The investment returns of all securities and portfolios can be adequately represented by a joint elliptical
distribution, such as the <strong>normal distribution</strong>. The assumption of a normal distribution is a major practical limitation,
because it is symmetrical. Using the normal distribution to model the pattern of investment returns makes investment results with
more upside than downside returns appear more risky than they really are.</p></li>
</ul>
<p>Recent advances in portfolio and financial theory, coupled with increased computing power, have overcome these limitations.
The resulting expanded risk/return paradigm is known as Post-Modern Portfolio Theory, or PMPT.
Thus, MPT becomes nothing more than a special (symmetrical) case of PMPT.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The risk measures we will describe below are mainly used to evaluate mutual fund and portfolio manager performance.
It is important to note that some variables will cause differing results, such as the <em>frequency</em> (daily, weekly, monthly, yearly)
and the <a href="#id1"><span class="problematic" id="id2">*</span></a>window*(from which date to which date). For example, some services calculate ‘during the last 3 years, the 30 days X is Y’.</p>
<p>Also, regarding time horizon, if you have a mean for a horizon of say 10 days, and a volatility over a year, then
you can convert that volatility to be over the horizon by multiplying by <span class="math notranslate nohighlight">\(\sqrt{10/252}\)</span>.</p>
</div>
<p>As a case, let’s take as an example the following portfolio</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">portfolio_management.Portfolio</span> <span class="kn">import</span> <span class="n">Portfolio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">assets</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AAPL&#39;</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="s1">&#39;KO&#39;</span><span class="p">,</span> <span class="s1">&#39;CAT&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio</span> <span class="o">=</span> <span class="n">Portfolio</span><span class="p">(</span><span class="n">assets</span><span class="o">=</span><span class="n">assets</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio</span><span class="o">.</span><span class="n">slice_dataframe</span><span class="p">(</span><span class="n">to_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">from_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">portfolio_returns</span> <span class="o">=</span> <span class="n">portfolio</span><span class="o">.</span><span class="n">get_weighted_sum_returns</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">assets</span><span class="p">))</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">assets</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">portfolio_returns</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="go">Date</span>
<span class="go">1970-01-05 23:59:59   -0.004553</span>
<span class="go">1970-01-06 23:59:59   -0.003728</span>
<span class="go">1970-01-07 23:59:59   -0.006211</span>
<span class="go">1970-01-08 23:59:59    0.001179</span>
<span class="go">1970-01-09 23:59:59   -0.005915</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>First, we cover some measures that are based on the <em>Capital Asset Pricing Model</em>:</p>
<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.jensens_alpha">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">jensens_alpha</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark_returns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.jensens_alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>The <strong>Jensen’s alpha</strong> determines the abnormal return of a security or portfolio of securities over the theoretical
expected return. It is a version of the standard alpha based on a theoretical performance index instead of a market index.
The theoretical return is predicted by a market model, most commonly the capital asset pricing model (CAPM).
The market model uses statistical methods to predict the appropriate risk-adjusted return of an asset.</p>
<p>The CAPM for instance uses beta as a multiplier. The CAPM return is supposed to be ‘risk adjusted’,
which means it takes account of the relative riskiness of the asset. This is based on the concept that riskier
assets should have higher expected returns than less risky assets. If an asset’s return is even higher than the
risk adjusted return, that asset is said to have “positive alpha” or “abnormal returns”.
Investors are constantly seeking investments that have higher alpha.</p>
<p>Since Eugene Fama, many academics believe financial markets are too efficient to allow for repeatedly earning
positive Alpha, unless by chance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>benchmark_returns</strong> – Pandas series representing percentage changes of the benchmark (i.e. S&amp;P500) returns over time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.capm_beta">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">capm_beta</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark_returns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.capm_beta" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>benchmark_returns</strong> – Pandas series representing percentage changes of the benchmark (i.e. S&amp;P500) returns over time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<div class="section" id="risk-deviation-measures">
<h3>Risk Deviation Measures<a class="headerlink" href="#risk-deviation-measures" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.standard_deviation">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">standard_deviation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.standard_deviation" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.average_absolute_deviation">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">average_absolute_deviation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.average_absolute_deviation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.lower_semi_standard_deviation">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">lower_semi_standard_deviation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.lower_semi_standard_deviation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="risk-adjusted-returns-measures-based-on-volatility">
<h4>Risk Adjusted Returns Measures Based on Volatility<a class="headerlink" href="#risk-adjusted-returns-measures-based-on-volatility" title="Permalink to this headline">¶</a></h4>
<p>Volatility is simply the average dispersion of the returns around their mean</p>
<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.treynor_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">treynor_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_free_rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark_returns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.treynor_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>The <strong>Treynor reward to volatility model</strong> is a measurement of the returns earned in excess of that which could have
been earned on an investment that has no diversifiable risk (e.g., Treasury bills or a completely diversified portfolio),
per unit of market risk assumed. In other words, it calculates the excess returns generated by a portfolio
<span class="math notranslate nohighlight">\(r_i - r_f\)</span>, where <span class="math notranslate nohighlight">\(r_i\)</span> is the portfolio <span class="math notranslate nohighlight">\(i\)</span>’s returns and <span class="math notranslate nohighlight">\(r_f\)</span> is the risk-free
rate, then discounts it by portfolio <span class="math notranslate nohighlight">\(i\)</span>’s beta, <span class="math notranslate nohighlight">\(\beta_i\)</span>.</p>
<p>Like the Sharpe ratio, the Treynor ratio (T) does not quantify the value added, if any, of active portfolio
management. It is a ranking criterion only. A ranking of portfolios based on the Treynor Ratio is only useful if
the portfolios under consideration are sub-portfolios of a broader, fully diversified portfolio.
If this is not the case, portfolios with identical systematic risk, but different total risk, will be rated the same.
But the portfolio with a higher total risk is less diversified and therefore has a higher unsystematic risk which is
not priced in the market.</p>
<p>An alternative method of ranking portfolio management is Jensen’s alpha, which quantifies the added return as the
excess return above the security market line in the capital asset pricing model. As these two methods both determine
rankings based on systematic risk alone, they will rank portfolios identically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>benchmark_returns</strong> – Pandas series representing percentage changes of the benchmark (i.e. S&amp;P500) returns over time.</p></li>
<li><p><strong>risk_free_rates</strong> – Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\(T = \frac{r_i - r_f}{\beta_i}\)</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.sharpe_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">sharpe_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_free_rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.sharpe_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>The <strong>Sharpe ratio</strong> was developed by William F. Sharpe in 1966. It is an extension of the <em>Traynor ratio</em>, as
it discounts expected excess returns by the volatility. It measures the performance of an investment
(e.g., a security or portfolio) compared to a risk-free asset, after adjusting for its risk.
In other words, it is the difference between the returns of the investment  and the risk-free return, divided by
the standard deviation of the investment (i.e., its volatility). It represents the additional amount of return
that an investor receives per unit of increase in risk.</p>
<p>The <em>ex-ante</em> ratio is defined as <span class="math notranslate nohighlight">\(\frac{E[R_a - R_b]}{\sigma_a}\)</span> where <span class="math notranslate nohighlight">\(R_{a}\)</span> is the asset return,
<span class="math notranslate nohighlight">\(R_b\)</span> is the risk-free return (such as a U.S. Treasury security). <span class="math notranslate nohighlight">\(E[R_{a}-R_{b}]\)</span> is the expected
value of the excess of the asset return over the benchmark return, and <span class="math notranslate nohighlight">\(\sigma _{a}\)</span> is the standard deviation
of the asset excess return. The <em>ex-post</em> ratio uses the same equation as the one above but with realized returns
of the asset and benchmark rather than expected returns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates Pandas series representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>risk_free_rates</strong> – Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21. Period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\(S = \frac{E[R_a - R_b]}{\sigma_a}\)</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.information_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">information_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.information_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>The <strong>information ratio</strong> is similar to the Sharpe ratio, the main difference being that the Sharpe ratio uses a
risk-free return as benchmark whereas the information ratio uses a risky index as benchmark (such as the S&amp;P500).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>benchmark_returns</strong> – Pandas series representing percentage changes of the benchmark (i.e. S&amp;P500) returns over time. Pandas series representing percentage changes of the benchmark (i.e. S&amp;P500) returns over time.</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.modigliani_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">modigliani_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">benchmark_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_free_rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.modigliani_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>The <strong>Modigliani risk-adjusted performance</strong> is a combination of the Sharpe and info ratios.
It adjusts the expected excess returns of the portfolio above the risk free rate by the expected excess
returns of a benchmark portfolio, above the risk free rate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>benchmark_returns</strong> – Pandas series representing percentage changes of the benchmark (i.e. S&amp;P500) returns over time.</p></li>
<li><p><strong>risk_free_rates</strong> – Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.roys_safety_first_criterion">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">roys_safety_first_criterion</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pandas.core.series.Series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.roys_safety_first_criterion" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>minimum_threshold</strong> – minimum acceptable return, below which the returns are less desirable.</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">roys_safety_first_criterion</span><span class="p">(</span><span class="n">portfolio_returns</span><span class="o">=</span><span class="n">portfolio_returns</span><span class="p">,</span> <span class="n">minimum_threshold</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="mi">252</span><span class="p">))</span>
<span class="go">0.7591708635828361</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="value-at-risk-var">
<h3>Value at Risk (VaR)<a class="headerlink" href="#value-at-risk-var" title="Permalink to this headline">¶</a></h3>
<p>Measures of risk-adjusted return based on volatility treat all deviations from the mean as risk, whereas measures of
risk-adjusted return based on lower partial moments consider only deviations below some predefined minimum return
threshold, t as risk i.e. positive deviations aren’t risky. VaR is a more probabilistic view of loss as the risk of a portfolio</p>
<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.value_at_risk_historical_simulation">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">value_at_risk_historical_simulation</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.value_at_risk_historical_simulation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.value_at_risk_variance_covariance">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">value_at_risk_variance_covariance</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.value_at_risk_variance_covariance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.value_at_risk_monte_carlo">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">value_at_risk_monte_carlo</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.value_at_risk_monte_carlo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.conditional_value_at_risk">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">conditional_value_at_risk</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.conditional_value_at_risk" title="Permalink to this definition">¶</a></dt>
<dd><p>Expected Shortfall, otherwise known as CVaR, or conditional value at risk, is simply the expected loss of the worst case scenarios of returns.
ES answers this question — What is the average loss over the whole range of outcomes in the 1% tail?
For example, if your portfolio has a VaR(95) of -3%, then the CVaR(95) would be the average value of all losses exceeding -3%.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>confidence_level</strong> – </p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<div class="section" id="risk-adjusted-returns-measures-based-on-var">
<h4>Risk Adjusted Returns Measures Based on VaR<a class="headerlink" href="#risk-adjusted-returns-measures-based-on-var" title="Permalink to this headline">¶</a></h4>
<p>Value at Risk computes the expected loss over a specified period of time given a confidence level</p>
<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.excess_return_value_at_risk">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">excess_return_value_at_risk</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_free_rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence_level</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.excess_return_value_at_risk" title="Permalink to this definition">¶</a></dt>
<dd><p>Discounts the excess return of the portfolio above the risk-free rate by the value at risk of the portfolio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>risk_free_rates</strong> – Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns</p></li>
<li><p><strong>confidence_level</strong> – </p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.conditional_sharpe_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">conditional_sharpe_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_free_rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confidence_level</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.conditional_sharpe_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Discounts the excess return of the portfolio above the risk-free rate by the conditional VaR of the portfolio</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>risk_free_rates</strong> – Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns</p></li>
<li><p><strong>confidence_level</strong> – </p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="drawdown-risk">
<h3>Drawdown Risk<a class="headerlink" href="#drawdown-risk" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.drawdown_risk">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">drawdown_risk</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trailing_period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">252</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.drawdown_risk" title="Permalink to this definition">¶</a></dt>
<dd><p>Drawdown risk is the maximum (or average) historical ‘drawdown’ of the portfolio.
A drawdown is the percentage loss between peak and trough.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>trailing_period</strong> – </p></li>
<li><p><strong>max</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="partial-moments-risk">
<h3>Partial Moments Risk<a class="headerlink" href="#partial-moments-risk" title="Permalink to this headline">¶</a></h3>
<p>These measures consider downside risk, and do not assume that returns are normally adjusted.
The mean and variance do not completely describe the distribution, therefore using only both of
them (i.e. the first and second moment of a distribution), would technically assume a normal distribution.</p>
<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.lpm">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">lpm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.lpm" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a lower partial moment of the returns. Example usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="n">r</span> <span class="o">=</span> <span class="n">nrand</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;lpm(0.0)_1 = &#39;</span><span class="p">,</span> <span class="n">lpm</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>returns</strong> – </p></li>
<li><p><strong>threshold</strong> – </p></li>
<li><p><strong>order</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.hpm">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">hpm</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.hpm" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a higher partial moment of the returns. Example usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">nrand</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hpm(0.0)_1 = &#39;</span><span class="p">,</span> <span class="n">hpm</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>returns</strong> – </p></li>
<li><p><strong>threshold</strong> – </p></li>
<li><p><strong>order</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<div class="section" id="risk-adjusted-returns-measures-based-on-partial-moments">
<h4>Risk Adjusted Returns Measures Based on Partial Moments<a class="headerlink" href="#risk-adjusted-returns-measures-based-on-partial-moments" title="Permalink to this headline">¶</a></h4>
<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.omega_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">omega_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_free_rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.omega_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Notice the denominator is power of 1/1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>risk_free_rates</strong> – Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns</p></li>
<li><p><strong>target</strong> – minimum acceptable return, below which the returns are less desirable.</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.sortino_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">sortino_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_free_rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.sortino_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Notice the denominator is power of 1/2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>risk_free_rates</strong> – Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns</p></li>
<li><p><strong>target</strong> – minimum acceptable return, below which the returns are less desirable.</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.kappa_three_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">kappa_three_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risk_free_rates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">252</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.kappa_three_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Notice the denominator is power of 1/3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>risk_free_rates</strong> – Pandas series representing percentage changes of a risk-free asset’s returns over time. It should be same time range and frequency as portfolio_returns</p></li>
<li><p><strong>target</strong> – minimum acceptable return, below which the returns are less desirable.</p></li>
<li><p><strong>period</strong> – period to compute statistics of returns for. For instance, to compute yearly, then input 252, and to compute monthly, then input 21.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.gain_loss_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">gain_loss_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.gain_loss_ratio" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>target</strong> – minimum acceptable return, below which the returns are less desirable.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="matilda.quantitative_analysis.risk_quantification.upside_potential_ratio">
<code class="sig-prename descclassname"><span class="pre">matilda.quantitative_analysis.risk_quantification.</span></code><code class="sig-name descname"><span class="pre">upside_potential_ratio</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">portfolio_returns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#matilda.quantitative_analysis.risk_quantification.upside_potential_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>The <strong>upside-potential ratio</strong> is a measure of a return of an investment asset relative to the minimal acceptable
return. The measurement allows a firm or individual to choose investments which have had relatively good upside
performance, per unit of downside risk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>portfolio_returns</strong> – Pandas series or dataframe representing percentage changes of the security (or portfolio) returns over time. It should be same time range and frequency as risk free rates</p></li>
<li><p><strong>target</strong> – minimum acceptable return, below which the returns are less desirable. minimum acceptable return, below which the returns are less desirable.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>
<div class="section" id="risk-parity-1996">
<h2>Risk Parity (1996)<a class="headerlink" href="#risk-parity-1996" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hierarchical-risk-parity-2016">
<h3>Hierarchical Risk Parity (2016)<a class="headerlink" href="#hierarchical-risk-parity-2016" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="universal-portfolio-algorithm-2016">
<h2>Universal Portfolio Algorithm (2016)<a class="headerlink" href="#universal-portfolio-algorithm-2016" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="investment-paradigms.html" class="btn btn-neutral float-right" title="Investment Paradigms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="asset-pricing-models.html" class="btn btn-neutral float-left" title="Asset Pricing Models" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Alain Daccache

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>